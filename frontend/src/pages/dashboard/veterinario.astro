---
import DashboardLayout from '../../layouts/BaseDashboard.astro';
---

<DashboardLayout>
  <h1>Contenido del dashboard de veterinario</h1>
</DashboardLayout>

<script type="module">
  import { requireRole } from "/src/lib/authHelpers.js";
  
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', async () => {
      console.log("DOM listo, ejecutando requireRole para veterinario");
      await requireRole(["veterinario"]);
    });
  } else {
    console.log("DOM ya listo, ejecutando requireRole para veterinario");
    await requireRole(["veterinario"]);
  }
</script>
