---

---
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<header>
    <nav x-data="{ open: false }" class="bg-stone-600 border-black border-b-2 border-r text-white h-[60px] w-full p-5 
                flex items-center justify-end relative rounded-none mx-auto 
                lg:w-[70%] lg:rounded-lg lg:mt-4">
        <img src="/logoDashboard.webp" alt="Logo" class="absolute
            h-20 top-1 left-2
            md:h-25 md:top-0 md:left-4
            lg:h-25 lg:-top-3 lg:left-2 z-99
        "/>
        <div class="absolute text-white
            h-20 top-0 left-23
            md:h-25 md:top-0 md:left-30
            lg:h-25 lg:top-1 lg:left-30 z-99 ">
            <p class="font-black">Panel de </p>
            <p class="font-light">Hola, <span class="text-amber-500 font-medium"></span></p>
        </div>

        <!-- Menú Hamburguesa (visible en móviles) copiado de la navbar pública -->
        <div class="lg:hidden">
            <a href="#"><span class="material-symbols-outlined text-primary text-amber-600 h-6 w-6 pr-10">account_circle</span></a>
            <button class="p-2 focus:outline-none relative z-50" type="button"
                @click="open = !open"
                aria-label="Abrir menú"
                aria-controls="mobile-menu">

                <!-- Icono hamburguesa -->
                <svg x-show="!open" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>

                <!-- Icono X (cerrar) -->
                <svg x-show="open" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
            </button>
        </div>

        <!-- Menu desktop -->
        <ul class="hidden lg:flex space-x-4 items-center">
            <li><a href="#Mascotas">Mis mascotas</a></li>
            <li><a href="#Historial">Historial</a></li>
            <li><a href="#Cuenta"><span class="material-symbols-outlined text-primary text-amber-600" style="font-size: 30px;">account_circle</span></a></li>
        </ul>

        <!-- Dropdown menu (versión móvil) copiado de la navbar pública -->
        <div id="mobile-menu" x-show="open" x-cloak
            @click.outside="open = false"
            @keydown.escape.window="open = false"
            x-transition
            class="text-center lg:hidden absolute left-0 top-full w-full bg-white text-black rounded-b-md shadow-lg z-50 origin-top">
            <ul class="py-2">
                <li><a class="block px-4 py-2 hover:bg-gray-100 w-full" href="#Mascotas">Mis mascotas</a></li>
                <li><a class="block px-4 py-2 hover:bg-gray-100 w-full" href="#Historial">Historial</a></li>
                <li><a class="block px-4 py-2 bg-amber-500 text-white hover:bg-amber-600" href="/" id="logout">Cerrar Sesión</a></li>
            </ul>
        </div>
    </nav>
</header>

<style>
    [x-cloak] { display: none !important; }
</style>

<script type="module">
  import { logout } from '/src/lib/authHelpers.js';
  const logoutEl = document.getElementById('logout');
  if (logoutEl) {
    logoutEl.addEventListener('click', (e) => {
      e.preventDefault();
      logout('/login');
    });
  }
</script>